ID-DIA

1ºSemana
1/7 -> Reunião e instalação de programas (Gnuradio e UHD)

01-2/7 -> Criação flowgraphs Rx e Tx para ficheiro de Texto e Img. Adicionado Jamming no RX. Tudo com GMSK.

3/7 -> Tentativa QPSK ou BPSK (Falhado) e inicio resumo papers. Tutoriais Youtube 1 e 2.

4/7 -> Resumo papers e inicio leitura do 9. Precorrer tutorial Wiki Gnuradio com notas: https://wiki.gnuradio.org/index.php/Tutorials 

5/7 -> Conclusao do 9 nos resumos dos papers. Perceber como criar OOT modules. Continuar tentar QPSK: Stete e Bhaumil

2ºSemana

8/7 -> Criação de modulos OTT (QPSK costum). Tentativa QPSK. Curso professor.

02-9/7 -> Sucesso de BPSK e QPSK por chanel model USRP. Leitura LABS com notas: https://files.ettus.com/tutorials/labs/. Sucesso transmissão txt QPSK pelos USRP mas só apos algum tempo em execução (depois de adaptação). Não envia img por esta razão. Tenho que ver exatamente para que serve o Polyyphase, o CMA e o Costas Lop, e mexer nesses valores para não existir adaptação e ser direto.

10/7 ->Ler novamente o Wiki tutorial depois do curso do prof para perceber melhor coisas que tinha entendido. Melhoramento do flowgraph com addicao de contellation reciver e de LMS DD. Exprimentação de varios valores. Funcional a maior parte das vezes a enviar imagem. Problema que não envia o texto todo quando não é repetitivo.

11/7 ->Reunião. Resolução de problema conta email it. Perceber como pack e unpack data antes da modulacao e depois da demodulacao tratada - Esquema folha. Tentativa de tirar bloco deprecated- FAIL, yet.  

12/7 -> Tentativa enviar video (Sucesso pelo Channel e Fail pelas USRPS), tentativa criar preambulo para imagem (não existe funcoes já feitas em principio terei eu que a criar) e tentativa de substituição do packet encoder onde tentei varias coisas e nada funcionou nem existe nenhuma implementação já feita.

3ºSemana
03-15/7 ->Perceber como TAG's funcionam. Contrução de packet encoder com sucesso em QPSK apeas com 1samples per simbol,  atravez da utilizacao do bloco chuncks to symbols. Prob: não uma modulação realista, sem sps, sem rolloff etc etc. --> HPD_test_success.grc.
Tentativa de integração deste encoder no projeto principal --> Fail. O contellation modulator multiplica offset das tags, dando problemas das mesmas (not matched). Continuar a tentar no 02hpd_test_success_constelation e no 03hpd_test_success_testes

04-16/7 ->Continuação tentativa substituição do packet encoder pelo HPD. Falei com prof e vou ignorar esta parte e partir par aa adicao do LDPC ou de Convolution Codes. Inicio pesquisa de qual o melhor e de implementações embora poucas encontradas. Criacao de encoder_ccsds_pelo_channel_model com semi-sucesso. Tentativa de implementar LDPC --Fail. Add examples de fec encoders e decoders.

05-17/7 ->Comunicacao com desenvolverdor da Ettus pelo slack (slack_1 e slcak_2).De volta a tentar tirar o packet encoder (Main_teste_sem_pkt_encoder_com_ldpc_encoder) e finalmente perceber o porque que não funciona sem o mesmo-Tudo explicado na pasta "05/porque_nao_pode_ser_sem_packet_encoder". Aprender a utilizar hier blocs (cricao de 2 - simple_packet_encoder_and_modulation/mod_with_packet_encoder) e desenvolver script para eliminar os criados. Mais testes de introducao de CC usando hier block(Main_tests_CC_ldpc)

18/7 - Aplicação de codigos como LDPC (G,H), CC, DUMMY, REPETITION sem qualquer tipo de modulação nem pkt encoder(File->Codificador->Descodificador->File)->Funciona Bem (sem testes de erros).
Criação de Hier Blocks (extremly_simple_packet_encoder_and_soft_modulation (soft encoder sem CMA equalizer e Costas loop) e simple_packet_encoder_and_soft_modulation ((soft encoder sem CMA equalizer e Costas loop) e de simple_pkt_encoder_and_pkt_decoder(apenas o pkt encoder e decoder -para testes). Integração de tudos estes blocos e execucao de muitos testes no GRC: Tests_principal_CC_LDPC_Hier_Blocks. Conclusão que o packet encoder perde bits e na integracao com os codigos nao funciona. 


19/7 ->Testes com o que já tinha: o dummy corrige erros do packet encoder. Reunião. Comecar gradualmente com o HPD. ---Não me parece que vá dar mas ver melhor.
Para a semana:
Ver melhor o que estava a fazer pelo HPD, as tags nao passam pelas USRPS (testado, mesmo depois de  moduladas) --> Nao percebo como funciona nada disto. Desisto da vida.
EScolher entre: https://dsp.stackexchange.com/questions/56321/gnu-radio-transceiver-loopback-adapted-transmission-stops-unexpectedly
Ou comecar OFDM.

4ºSemana
22/7 ->Leitura e Resumo de: https://www.gnuradio.org/doc/doxygen/page_packet_comms.html, Seguir por correlation estimator e HPD e varios testes.
23/7 ->Mais pesquisa sobre correlation estimator, ir pouco a pouco juntando num só flowgraph.-FAIL.
24/7 ->Criar o Evolution onde iria pouco a pouco adicionando blocos. Fail pq das dependencias de muitos blocos ao mesmo tempo. Tentativa de usar o loopback, com sucesso e adaptação das mensagens para ficheiro com sucesso. Tentativa de add CRC - Fail. FEC adicionado mas ainda incompleto. Está a funcionar o do payload com repertition, no header nao. Ou funciona o fec do header ou funciona o fec do payload.--> Problema vem das tags antes de mux, arranjar maneira para contrornar isso. 
25/7 ->
26/7 ->

5ºSemana
29/7
30/7
31/7
1/8
2/8

Toda a semana, consegui meter a funcionar o HPD, com LDPC  no entanto so funciona no OSX e não linux, muito tempo perdido a achar que nao estava a funcionar de todo. Reinstalei novamente o linux, gnuradio pelo Github e não pelo packet manager, instalei novamente todas as dependecias, etc. Tentei resolver o erro de não dar bem no linux e não consegui. - Pasta 08

6ºSemana - Pasta 09
5/8
6/8 ->Saida do HPD e Utilização do "Correlate Access Code - Tag Stream"  Block - Sucesso com LDPC - Novo caminho a seguir. (Com BPSK, 2SPS, funcina perfeitamente - TUDO SIMULAÇÃO)
7/8 ->MUITA EVOLUCAO, consegui integrar o Main com o CAC block, já com QPSK com GRAY CODING, e com 4 SPS. Não funciona o Burst Shapper com as USRP's- dá UUU....
8/8 ->Consegui por a funcionar CAC+QPSK+Gray Coding+4 SPS+Burst Shaper. Começar a integrar com USRP's. Diversos problemas que existem no mundo real que não existiam na simulação:- Bandwith limits (Burst Shapper), -Saturation limits(Feeding ao USRP valores entre [-1, +1]->Multiply const). Mesmo assim aparece muitos U's pq não estou a dar samples suficientemente rapidas ao USRP. E só funciona de vez em quando.
9/8 ->Continuar a tentar passar corretamente entre USRP's. Corrcçao dos U's, pois quer dizer que o USRP não tinha samples suficientes, então eu desci o sample rate dos USRP's. Continua a funcionar de vez em quando só. Fiz CC mas nao funciona.

7ºSemana -  Pasta 09
12/8 ->Alteração de em vez de RRC manual, utilizar o Constelation Modulator, QPSK, 4SPS, Sem Burst Shapper nas USRPs. Nao dá videos, mas texto exceto a primeira parte está perfeita. Utilização de threads aumentou muito a codificacao e descodificacao do LDPC, reparei que quando faço a modulação totalmente manual os pontos da constelação quando giram o CAC deixa de encontrar a code stream por isso deduzi que tinha haver com alguma ambuguidade. (Talvez differential encoding) 
13/8 ->Utilização de diferential encoding com a RRC manual e melhoramento significativo. Já transfere bem entre 2 USRP's quase sempre passa o primeiro packet. Utilização de Vector Insert para adicionar um "preambulo" para underun de rampage e para a adaptação do polyphase/coostas loop. Utilização de CC em vez de LDPC o que fica muito muito mais rápido, podendo utilizar um smaple rate bastante maior. Testes com diversos videos, alguns funcionam outros não. 

Passo a seguir: Mais testes.

Semana
2/9 -> Chek-in e assinatura contrato
3/9 -> Testes em vários videos, tentativa substituicao "Vector Insert" Block -LENTO
4/9 ->Criação de "Vector Insert" em c++, muito mais rápido - não resolveu o problema mas vai ser util para o tutorial. Reunião. Testes de qual é o problema e criaçã de novo FG 4_4_NEW_FG_TESTING para testar onde está o problema, com simulação funciona com userp's não.

